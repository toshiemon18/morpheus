# 専攻科での研究用リポジトリ
- 兼keras/tensorflow向け学習統合フレームワーク試作2号機
- 通常の学習, 転移学習, カリキュラム学習をサポート
- direnvでデータセットのパスを管理
- データセット毎にパスを管理し, タスクはgeneratorによって指定

## 各ディレクトリ説明
  - commands
    - trainやtest等のコマンドを置いておくディレクトリ
  - lib
    - helpers
      - ヘルパーモジュール等を一括で管理しておく場所
    - components 
      - 実装したレイヤー等もここに配置する
  - models
    - 作成した学習モデルを置くディレクトリ
    - 全てのモデルはここに置く
  - results
    - 学習曲線や混合行列などの画像が出力されるディレクトリ
    - train
      - 学習曲線を保存する
    - test
      - 混合行列を保存する
    - ファイル名は思案中
  - scripts
    - generator
      - データを入力するgeneratorを置く
    - その他データセットを操作するようなスクリプトを配置
  - weights
    - モデルのパラメータを保存するディレクトリ
    - ファイル名のフォーマットは思案中
  - experiments
    - 実験用のサブプロジェクトを配置するディレクトリ
  - logs
    - TensorBoard向けのlogファイルを出力するディレクトリ

## データセットについて
  - データセットは/home/public/running直下に配置する
    - これは変換前後を問わず必ず配置すること
  - 前処理後のデータを格納するディレクトリ構造
  - 学習用/テスト用のファイル対応はcsvファイルで管理し, 教師データも格納すること
  ```
    +-- $RUNNNING/
      +-- {dataset name}
      |  +-- train.csv  (学習用データのリストを格納したCSVファイル)
      |  +-- test.csv   (テスト用データのリストを格納したCSVファイル)
      |  +-- data       (ここの下に全てのデータを通し番号で管理する)
      |  |  +-- { 学習/テストに使用するデータ }
  ```

## 各コマンドの使い方
### train
#### 使い方
```
  $ train [options]
```
#### options
| option        | description                                              |
|:--------------|:---------------------------------------------------------|
| mdoel         | 学習時に使用するモデルの名前(モデルのクラス内で定義する) |
| dataset       | 学習に用いるデータセットの名前                           |
| epochs        | 学習の試行回数(デフォルトは100)                          |
| logdir        | TensorBoardのログを保存するディレクトリのパス            |
| num_layers    | 転移学習で初期化するレイヤーの数(bottom-up)              |
| weight_path   | 学習済みパラメータのファイルパス                         |
| --fine_tuning | 転移学習を行うか(フラグがonなら転移学習モード)           |
| -h, --help    | ヘルプの出力                                             |

### test
#### 使い方
```
  $ test [options]
```

#### options
| option        | description                                              |
|:--------------|:---------------------------------------------------------|
| mdoel         | 学習時に使用するモデルの名前(モデルのクラス内で定義する) |
| dataset       | 学習に用いるデータセットの名前                           |
| weight_path   | 学習済みパラメータのファイルパス                         |
| -h, --help    | ヘルプの出力                                             |

### task
#### 使い方
```
  $ task [-a, --add TASKNAME]
```

#### options
| options    | description                                                  |
|:-----------|:-------------------------------------------------------------|
| -a, --add  | データセット追加する。値としてデータセットの名前を与えること |
| -h, --help | ヘルプの出力                                                 |
